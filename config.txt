import io.swagger.v3.oas.models.Components;
import io.swagger.v3.oas.models.OpenAPI;
import io.swagger.v3.oas.models.Operation;
import io.swagger.v3.oas.models.media.Content;
import io.swagger.v3.oas.models.media.MediaType;
import io.swagger.v3.oas.models.responses.ApiResponse;
import io.swagger.v3.oas.models.responses.ApiResponses;
import io.swagger.v3.oas.models.responses.ApiResponsesExtensions;
import io.swagger.v3.oas.models.responses.ApiResponsesExtensionsConstant;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.util.Map;

@Configuration
public class SwaggerConfig {

    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
                .components(new Components())
                .path("/your-api-path", getPathItem());
    }

    private io.swagger.v3.oas.models.PathItem getPathItem() {
        Operation operation = new Operation()
                .responses(new ApiResponses()
                        .addApiResponse("200", new ApiResponse().description("OK"))
                        .addApiResponse("400", customBadRequestResponse())
                        .addApiResponse("404", new ApiResponse().description("Not Found")));

        return new io.swagger.v3.oas.models.PathItem().get(operation);
    }

    private ApiResponse customBadRequestResponse() {
        Map<String, Object> extensions = Map.of(
                ApiResponsesExtensionsConstant.X_COMMON_EXTENSIONS,
                Map.of("code", 400,
                        "message", "Your custom bad request message"));

        return new ApiResponse()
                .description("Bad Request")
                .content(new Content().addMediaType(
                        "application/json",
                        new MediaType()))
                .extensions(extensions);
    }
}
